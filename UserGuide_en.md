# HeRAMS User Guide

## Introductions

Welcome to the **HeRAMS User Guide**. 
This user guide was designed for users of the [HeRAMS platform](https://herams.org/login) providing users with an overview of the platfrom 
and provides step-by-step instruction on key components of the platform. It should be noted that the guide solely address issues realted to 
the HERAMS paltfrom. For gerneral infroamtion on the HeRAMS approach and for techinical guidance please consult the [WHO HeRAMS webpage](https://www.who.int/hac/herams/en/). 

The first two chapters are intended for all users and provide step-by-step instructions on how to [access the HeRAMS platform](#1-login--user-profile) as well as a brief overview on the [Project dashboards](#2-explore-data). 
[Chapter 3](#3-edit-data) is intended for data editor and covers covers essential steps on how to access, edit and download data. 
[Chapter 4](#4-herams-administration) offers addtional guidance for country administrators and provides detailed information related to user management, access permissions, 
and the configuration of the project specific interactive dashbaords. For additional questions, please contact [mailto](herams@who.int)

## Table of Content

1. [Login, Registration & User Profile](#1-login-registration--user-profile)

<details>
	<summary><h2><a href="#1-login-registration--user-profile">Login, Registration & User Profile</a></h2></summary>
	<ul>
  <li><a href="#login--registration">Login & Registration</a></li>
  <ul>
    <li><a href="#rest-password">Rest Password</a></li>
    <li><a href="#logout">Logout</a></li>
  </ul>
  <li><a href="#user-profile">User Profile</a></li>
  <li><a href="#logout">Logout</a></li>
</ul>
	- [Login & Registration](#login--registration)
	   - [Rest Password](#rest-password)
	   - [Logout](#logout)
	  - [Register (Create a User Account)](#register-create-a-user-account)
	  - [User Profile](#user-profile)
		- [Update your User Profile](#update-your-user-profile)
		- [Change Password](#change-password)
		- [Add a Profile Picture](#add-a-profile-picture)
</details>
	 	
2. [Explore a Project](#2-explore-a-project)
	 - [Worldview](#worldview)
	 - [Dashboard](#dashboard)
		- [Customizing the dashboard](#customizing-the-dashboard)
		- [Default Dashboard Pages](#default-dashboard-pages)
3. [Edit & Download Data](#3-edit-data)
	- [Access the Data Update Interface](#access-the-data-update-interface)
	- [Edit Data]
		- [Edit a Health Facility](#edit-a-health-facility)
		- [Update a Health Facility](#update-a-health-facility)
		- [Register a new Health Facility](#register-a-new-health-facility)
		- [Delete a Health Facility](#delete-a-health-facility)
	- [Download data](#download-data)
		- [Download the entire data set](#download-the-entire-data-set)
		- [Data Encoding in Excel](#data-encoding-in-excel)
4. [Project Administration](#4-herams-administration)
	- [Workspaces](#workspaces)
		- [Workspace Permissions](#workspace-permissions)
		- [Add a User to a Workspace](#add-a-user-to-a-workspace)
		- [Remove a User from a workspace](#remove-a-user-from-a-workspace)
		- [Alter a user's Permission to a Workspace](#change-a-users-workspace-permission)
		- [Create a New Workspace](#create-a-new-workspace)
		- [Delete a Workspaces](#delete-a-workspace)
	- [Projects](#projects)
		- [Project Permissions](#project-permissions)
		- [Add a User to a Project](#add-a-user-to-a-project)
		- [Remove a User from a Project](#remove-a-user-from-a-project)
		- [Change a User's Project Permissions](#change-a-users-project-permissions)
		- [Modify a Project](#modify-a-project)
	- [Configure the Project Dashboard](#configure-the-project-dashboard)
		- [Add a New Dashboard Page](#add-a-new-dashboard-page)
		- [Update a Dashboard Page](#update-a-dashboard-page)
		- [Delete a Dashboard Page](#delete-a-dashboard-page)
		- [Add an Element to a Page](#add-an-element-to-a-page)
		- [Modify an Element on a page](#modify-an-element-on-a-page)
		- [Remove an elements or pages from the dashboard](#)
5. [FAQ](#faq)

##	 1. Login, Registration & User Profile
This chapter provides step-by-step instructions on how to access the HeRAMS platform, create a user acount and update your user profile. 

### Login & Registration

<p align="center">
	<img src="media/img/icon_info.png" height="30" align="top" alt='note'></img>
	<i> New users without an existing account, will have to register before being able to login to the [HeRAMS paltfrom](https://herams.org/login). 
	To create a user account in, follow the instruction [here](#register-create-a-user'account)</i>
</p>


1. To access the HeRAMS platform, open the link https://herams.org in your browser of choice. 

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> It is recommended to either user FireFox or Chrome. </i>
</p>

2. A pop-up window will appear, prompting you to enter your username (email) and password. 
3. Enter your email address and password in the designated fields and click the <img src="media/img/bt_login.png" height="20" align="top" ></img> button. 
4. Click the <img src="media/img/bt_submit_en.png" height="20" align="top" alt="Submit"></img> button to login. 

<p align="center">
	<img src="media/vid/HeRAMS_login.gif" alt="HeRAMS Login" height="300"/></img>
</p>

#### Logout

To logout, click the  <img src="media/img/bt_logout.png" height="20" align="top" alt="Log out"></img> button in the top right corner of your screen. 

#### Rest Password

In case you forgot your password, the instruction below will guide through the steps to reset your password. 

1. To reset your password, open the link [https://herams.org](https://herams.org) in your browser.
2. On the sign in page, click the [Reset password](https://herams.org/user/forgot) on the login page as shown below. 

<p align="center">
	<img src="media/img/HeRAMS_register.png" alt="Reset password" height="300"/></img>
</p>

3. Enter your email address in the top field.
4. Below the email field, you should see a Captcha image similar to the one displayed here <img src="media/img/img_captcha.png" height="20" align="top" alt="Submit"></img>.
Enter the the characters displayed into the field below. 
5. Click the <img src="media/img/bt_submit_en.png" height="20" align="top" alt="Submit"></img> button.
6. An automated email will with a link to reset your pasword will be sent to your email address. 

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> If you did not receive this email, please check your spam or bluck email folder. </i>
</p>

7. Open the link and enter your new password.
8. Click the <img src="media/img/bt_submit_en.png" height="20" align="top" alt="Submit"></img>  button to confirm your new password. 
9. To login into HeRAMS, return to the [sign in page](https://herams.org/user/login).

<p align="center">
	<img src="media/vid/HeRAMS_password_reset.gif" alt="password reset" height="300"/></img>
</p>


### User Profile
Each user has a profile associated with their account. This permits you do to customize your profile, change your email address or password 
without requiring additional support. 


#### Register (Create a User Account)

1. To register as a new user, open the link [https://herams.org](https://herams.org) in your browser.
2. On the sign-in page, click the [sign-up](https://herams.org/user/register) link located just above the <img src="media/img/bt_login.png" height="20" align="top" ></img> button.
3. On the page that opens, enter your name, email and password. 

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='tip'></img>
	<i> Please note that your email acts as username.</i>
</p>

4. Submit your information by clicking the <img src="media/img/bt_sign_up.png" height="20" align="top"></img> button. 
5. A confirmation email will be sent to the email address you use to register with. 

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> If you haven't received a confirmation email, make sure to check your spam folder.</i>
</p>

6. Confirm your registration by clicking on the link in your email.

<p align="center">
	<img src="media/vid/HeRAMS_create_account.gif" alt="HeRAMS Register" height="300"/></img>
</p>

#### Update your User Profile

1. To update your user profile or account details, click your username shown on the top right corner of the page.  
2. This opens your [user profile](https://herams.org/user/settings/profile) and allows you to change your personal information such as your name, organization and contact details. 

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> Please note that first name, last name and organization are mandatory fields.</i>
</p>

#### Change Password

1. To alter your password, open your user profile as explained [above](#update-your-user-profile).  
2. Click the [account](https://herams.org/user/settings/account) link to access your account information. 
3. In the page opening, you should be able to change your email address and enter a new password. 
4. Make sure to click the <img src="media/img/bt_submit_en.png" height="20" align="top" alt="Submit"></img> button to confirm your changes. 

<p align="center">
	<img src="media/vid/HeRAMS_change_password.gif" alt="HeRAMS Change Password" height="300"/></img>
</p>

#### Add a Profile Picture

You can further personalize your account by adding a profile picture. In order for your profile picture to appear, you will have to register your email address at [Gravatar](https://en.gravatar.com/). 

<p align="center"><span>
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> For more information on Gravatar, click <a href="https://fr.gravatar.com/support/what-is-gravatar">here</a>.</i></span>
</p>

1. Open your [user profile](https://herams.org/user/settings/profile) by clicking your name displayed in the upper right corner of your screen.
2. Click the [Gravatar](https://en.gravatar.com/) link shown in the image below.

<p align="center">
	<img src="media/img/user_profile.png" alt="HeRAMS Register" height="300"/></img>
</p>

3. You will be prompted to login to your [Worldpress](https://wordpress.com/log-in) account. If you don't already have a Worldpress account, follow the instructions to create a new account.
4. Once logged in, open the **Manage Gravatars** tab and upload your image.
5. In the **My Gravatars** tab you should now be able to assign the image to the email address used to register on the HeRAMS platform. 

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> It might take a few minutes before your gravatar appears on your HeRAMS profile.</i>
</p>



## 2. Explore a Project

### Worldview

Upon login in, you should see a world map with several blue dots. Each of these dots represents a HeRAMS project. You can also see the list of all available projects in the navigation pane on the left.
In addition, a brief summary on the number of projects available in HeRAMS, the total number of contributors and health facilities is shown in the bottom left corner.

1. To learn more about a project, either click the blue dot on the world map or select the project from the navigation pane on the left. 
2. You should now see a pop-up window displaying an overview of the selected project. In the upper part of the pop-up you can see the project name, the number of health facilities assessed as well as the number of contributors, 
The lower half of the pop-up window displays a brief summary on the distribution of health facility types, their functionality and service availability.
3. For further details, click the <img src="media/img/bt_details.png" height="20" align="top" alt="details"></img> button. This will open the project dashboard.

<p align="center">
	<img src="media/img/icon_info.png" height="30" align="top" alt='info'></img>
	<i> Access to project dashboard is restricted to selected users. Should you require acccess to a project, pelase contact your system
	administrator or send an email to [hearmas.who.int] explaining why you require access the project.</i>
</p>

<p align="center">
	<img src="media/img/HeRAMS_worldview.png" alt="HeRAMS Worldview" height="300"></img>
</p>

### Dashboard

Each project in HeRAMS has a custom, interactive dashboard providing indepth information on a project.
1. To view a project dashboard, open the project summary by selecting your project form the navigation pane on the left. Alternatively, you can open the project summary by clicking the corresponding blue dot on the world map.
2. In the pop-up window, click the <img src="media/img/bt_details.png" height="20" align="top" alt="details"></img>  button. This will open the project dashboard.
3. You should now see a page similar to the one shown below. In the navigation pane on the left you will find a list of all available pages. 
4. To open a page, click the page name in the navigation pane. 

<p align="center">
	<img src="media/img/HeRAMS_dashboard_overview.png" alt="HeRAMS Register" height="300"/></img>
</p>

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> Some pages may contain a sub-page, indicated by a <img src="media/img/icon_forward.png" height="20" align="top" alt="forward"></img> icon next to the page's name.</i>
</p>

5. To return to a previous page, you can either select the page in the navigation pane on the left or use the breadcrumb trail on top of the dashboard. 
For example, the image below displays a sub-page of the Nigeria dashboard. To return to the first page of the dashboard, click on *Nigeria* in the navigation pane. 

<p align="center">
	<img src="media/img/HeRAMS_navigation_pane.png" alt="HeRAMS Register" height="30"/></img>
</p>

<p align="center">
	<img src="media/vid/HeRAMS_dashboard_navigation.gif" alt="dashboard navigation" height="300"/></img>
</p>

#### Customizing the dashboard

This section provides a few tips and tricks on how to customize the dashboard.

 - ***Mouseover messages***: If you hover with your mouse over a point on the map or the chart, you will see a small pop-up message appearing displaying further details.
 - ***Adjust the map zoom level and focus area***: You can adjust the zoom level of the maps using the scroll button on your mouse. In addition, you can change the focus area of the map. 
 Make sure your mouse is in the map element. Right click *(hold)* and drag the map in the desired direction. This will move the map focus area.
 - ***Remove items for charts or maps***: By clicking the icons in the legend, you can remove a category from a chart or map.  To add it again, simply click the circle again.
 - ***Reorder map elements***: If the map is zoomed out, it might happen that several points lie on top of each other. Thus, hidding some facilities. As a result, categories with only few
 facilities might be hidden. To bring a specific category to the front, uncheck the category in the legend. This will remove the category from the map. If you add the category back (click the now empty circle), the category will be added on top of the other points.
 
 <p align="center">
	<img src="media/vid/HeRAMS_dashboard_customize_maps.gif" alt="remove/reoder items" height="300"/></img>
</p>
 
 - ***Apply filters***: You can further customize the dashboard and explore the data by applying filters.
   1. In the top right corner of the dashboard, click the <img src="media/img/bt_filter.png" height="20" align="top" alt='filter'></img>  button.
   2. You should now see the filter configuration page. Use the drop-down list to select your filter criteria. Repeat this process until you have added all the desired filter criteria.

   <p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> If you apply multiple search criteria, only results that contain all terms will be shown.</i>
</p>   

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> You can limit the number of fields displayed using the search filed on top of the page.</i>
</p>

   3. Click the <img src="media/img/bt_apply_filter.png" height="20" align="top" alt='apply'></img> button to activate your filter.
   4. To remove the filters, return to the **Filter** pages and click the <img src="media/img/bt_clear_filter.png" height="20" align="top" alt='apply'></img> button.
<p align="center">
	<img src="media/vid/HeRAMS_dashboard_filters.gif" alt="dashboard filters" height="300"/></img>
</p>

#### Default dashboard pages

The below section provides an overview of the standard pages available in a dashboard. Each page refers to a HeRAMS standard information pillar.

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> Please note that the order and the content of dashboards is customized based on the needs for individual projects. Your dashboard might therefore by substantially different from the example pages displayed below. </i>
</p>

<details>
	<summary><b><i>Page 1:</b> Overview</i>
	</summary>

The **Overview** page provides a summary, in form of: 
-  A map to spot the distribution and number of health facilities by level of care (i.e. primary, secondary and tertiary health care facilities); and
-  Doughnut  charts to summarize different indicators, such as level of damage, functionality status, accessibility and service availability in the assessed health facility.

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> Note that service availability is country specific. Thus, direct comparisons form one country to another should be avoided.</i>
</p>

<p align="center">
	<img src="media/img/HeRAMS_dashboard_overview.png" alt="Overview" height="300"></img>
</p>
</details>

<details>
	<summary><b><i>Page 2:</b> Infrastructure</i>
	</summary>

The **Infrastructure** page, displays a descriptive analysis, including:
-  a map to spot the distribution and number of health facilities by type; 
-  doughnut charts to illustrate **Mo**des of **S**ervice **D**elivery (MoSDs) by type as well as the modality of the building structure (permanent vs. temporary); and
-  a table to illustrate reported accessibility barriers.

<p align="center">
	<img src="media/img/HeRAMS_dashboard_infastructure.png" alt="Infrastructure" height="300"></img>
</p>
</details>

<details>
	<summary><b><i>Page 3:</b> Condition</i>
	</summary>

The **Condition** page displays the level of reported damage to MoDS buildings following a standard classification and scale (Not Damaged to Fully Damaged). Information is visualized as: 
-	a map to spot the distribution and number of health facilities according to the level of building damage (i.e. condition);
-	doughnut charts summarizing the reported level of building damage by level of severity as well as the distribution of MoDS by type; and
-	a table to provide the name of the prioritized localities in terms of damage and their main causes.

<p align="center">
	<img src="media/img/HeRAMS_dashboard_condition.png" alt="Condition" height="300"></img>
</p>
</details>

<details>
	<summary><b><i>Page 4:</b> Functionality</i>
	</summary>
	
The **Functionality** page displays the level of functionality of the MoSDs following a standard classification and scale (Fully Functioning to Not Functioning) represented as:
-	a map to spot the distribution and number of MoSDs according to the functionality status;
-	doughnut charts to summarize the level of functionality as well as main causes of non-functionality; and
-	a table displays the list of priority areas in terms of non-functional health facilities and reported causes. 

<p align="center">
	<img src="media/img/HeRAMS_dashboard_functionality.png" alt="Functionality" height="300"></img>
</p>
</details>

<details>
	<summary><b><i>Page 5:</b> Accessibility</i>
	</summary>
	
The **Accessibility** page displays the level of accessibility to MoSDs following a standard classification and scale (Fully Accessible to Not Accessible) in the form of:
-	a map to spot the distribution and number of MoSDs according to the accessibility status;
-	doughnut charts to summarize the level of accessibility per number of MoSDs as well as the reported causes of inaccessibility per number of MoSDs; and
-	a table displays the list of priority areas with inaccessible MoSDs and the main reported cause of inaccessibility. 

<p align="center">
	<img src="media/img/HeRAMS_dashboard_accessability.png" alt="Accessability" height="300"></img>
</p>
</details>

<details>
	<summary><b><i>Page 6:</b> Management & Support</i>
	</summary>
	
The **Management & support** page displays information on the management of the MoSDs and the level of support provided by partners. The information is illustrated in terms of: 
- Ownership:
	-  A map to spot the distribution of MoSDs according to their ownership (i.e. public, private, faith-based and, NGO/iNGO).
	-  A doughnut  chart to highlighting the categories of ownership as a percentage of the total number of MoSDs.
- External support:
	-  A doughnut  chart to illustrate the level of support provided by partners.

<p align="center">
	<img src="media/img/HeRAMS_dashboard_management_support.png" alt="Management & Support" height="300"></img>
</p>
</details>

<details>
	<summary><b><i>Page 7:</b> Basic Amenities</i>
	</summary>
	
The **Basic Amenities** page presents a series of doughnut  charts displaying information of core areas such as:
- the principle source of water and power; and
- the percentage of MoDS with sufficient water and power supplies

<p align="center">
	<img src="media/img/HeRAMS_dashboard_basic_amenities.png" alt="Basic Amenitites" height="300"></img>
</p>
</details>

<details>
	<summary><b><i>Page 8:</b> Service Availability</i>
	</summary>
	
The **Service Availability** page displays multiple pages per type of service. Each page displays:
-	a map to spot the distribution of the MoSDs providing the selected health service;
-	doughnut charts to summarize the level of service availability as well as the underlying causes of unavailability of the service; and
-	a table displays the list of priority areas per service unavailability and the main reported underlying cause.

<p align="center">
	<img src="media/img/HeRAMS_dashboard_service_availability.png" alt="Service Availability" height="300"></img>
</p>
</details>


## 3. Edit Data

This chapter is itended primarily for data managers responsible to update the HeRAMS data. 
It covers all aspects related to manipulating data in HeRAMS as well as how to donwload data for additional analysis in external application (e.g. Excel).

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> Please not that access to the data edit interface is limited to users responsible to update the data.  
	Should your role require you to edit or view individual records, contact your system administrator to adjust your access permissions accordingly.</i>
</p>

### Access the Data Update Interface

1. Open the admin interfaceby clicking the <img src="media/img/icon_settings.png" height="20" align="top" alt='settings'></img> button on the top right corner of the page (next to your user name). 
2. From the navigation pane on the left, select [Projects](https://herams.org/project/index).
3. You should now see a table of all available projects. For each project, the table displays the number **Workspaces**, **Contributors**, **Health facilities** and **Responses**. 

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> The number of responses can be higher than the total number of health facilities. This indicates that a health facility was assessed multiple times over a specific time frame.</i>
</p>

4. In the rightmost column, click the <img src="media/img/icon_workspace.png" height="20" align="top" alt='workspace'></img> icon. This will open the list of available workspace.

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> HeRAMS uses so called <b>Workspaces</b> to manage access permission to the underlying data and enable a granular access control. 
	A workspace might for example constitute a specific organization or a geographic region. For more information on <b>Workspaces</b> click <a href="#workspaces">here</a>.</i>
</p>

5. To view the health facilities that are part of a specific workspace, click the <img src="media/img/icon_data_update_black.png" height="20" align="top" alt='Edit data'></img> icon in the **Action** column. 

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> Be aware that a workspace might have multiple pages. Use the <img src="media/img/icon_page_forward.png" height="20" align="top" alt='next page'></img> to move to the next page or filter the workspaces by typing the workspace name in the field below the header row.</i>
</p>


<p align="center">
	<img src="media/img/HeRAMS_workspace_filter.png" alt="HeRAMS Worldview" height="300"></img>
</p>

6. You should now see a table with all the health facilities of the selected workspace. 

<p align="center">
	<img src="media/vid/HeRAMS_data_update_interface.gif" alt="data update interface" height="300"></img>
</p>

### Edit Data

The following section provides a step-by-step guide on how to create, edit and delete health facilities.

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> For technical information related to specific questions please contact your country administrator.</i>
</p>

#### Edit a Health Facility

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> Please note that editing a record will override the existing record. If you would like to update the status of a health facility while keeping the history of changes, follow the instructions in the section below.</i>
</p>

1. To edit a record, click the <img src="media/img/icon_pencil_blue.png" height="20" align="top" alt='pencil'></img>  icon in the left most column. 

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> Be aware that the table might have multiple pages. Use the button in the bottom left corner to advance to the next page. You can also reduce the number of records displayed by applying filters.</i>
</p>

<p align="center">
	<img src="media/img/HeRAMS_data_update_table.png" alt="update data table" height="300"></img>
</p>

2. You should now be able to edit the selected record. Use the  <img src="media/img/bt_next_en.png" height="20" align="top" alt='next'></img> buttons in the lower right corner to move to the next page of the questionnaire or return to the previous page. 
You can also use the navigation pane on the left to access a specific section of the questionnaire.
3. To save your changes, navigate to the last page, **Validate**, and click the <img src="media/img/bt_submit_en.png" height="20" align="top" alt='send'></img> button.
4. If you would like to discard your edits, click the <img src="media/img/bt_clear_en.png" height="20" align="top" alt='exit'></img> button in the lower right corner of the page. 

<p align="center">
	<img src="media/vid/HeRAMS_edit_health_facility.gif" alt="edit record" height="300"></img>
</p>

#### Update a Health Facility

If HeRAMS is used as a monitoring tool, you can update health facility while keeping the existing information. 

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> Please note that the ability to update records is not enabled in all projects. Contact your system administrator for further information.</i>
</p>

1. To update the status of a Health Facility, use the <img src="media/img/icon_data_update_blue.png" height="20" align="top" alt='update'></img>  button to open the record.
2. Use the two button on the bottom right side to move to the next page of the questionnaire or return to the previous page. You can also use the navigation pane on the left to access a specific section of the questionnaire.
3. To save your changes, open the last page (**Validate**) and click  <img src="media/img/bt_submit_en.png" height="20" align="top" alt='submit'></img>.
4. If you would like to discard your edits, click the <img src="media/img/bt_clear_en.png" height="20" align="top" alt='exit'></img>  button.

#### Register a new Health Facility

1. To create a new record, click the button  <img src="media/img/bt_new_record_en.png" height="20" align="top" alt='new record'></img>.  
2. Use the two button on the bottom right side to move to the next page of the questionnaire or return to the previous page. You can also use the navigation pane on the left to access a specific section of the questionnaire.
3. To save your changes, navigate to the last page **Validate** and click  <img src="media/img/bt_submit_en.png" height="20" align="top" alt='Edit data'></img>.
4. If you would like to discard your edits, click the <img src="media/img/bt_new_record_en.png" height="20" align="top" alt='exit'></img>  button 

#### Delete a Health Facility

1. To delete a record, click the <img src="media/img/icon_delete_blue.png" height="20" align="top" alt='delete'></img> icon in the first column. 

<p align="center">
	<img src="media/img/icon_warning.png" height="20" align="top" alt='warning'></img>
	<i> Deleting records cannot be undone. Be careful when deleting a record.</i>
</p>
### Download data

It is possible to download part of the data as **CSV** for further analysis in-depth analysis. In rare cases, permission have been granted to download
 the entire data set. To donwload the entire data set please follow the instructions [here](#download-the-entire-data-set), otherwise see the section below. 

### Download Data from a Workspace

Follow the instructions below to download data for a single workspaces. If you require data from multiple workspace, follow the below steps for each workspace.
 You can then merge the data in your analysis tool of choice. 

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> In order to download data, you will require access to the corresponding workspace. Contact your system administrator to elevate your access rights if needed.</i>
</p>

1. Navigate to the workspace page of your project (see [Access the Data Update Interface](#access-the-data-update-interface) steps 1 - 4 for detailed instructions).
2. In the rightmost column, click the <img src="media/img/icon_download.png" height="20" align="top" alt='New record'></img> button. This will download all records of this workspace.

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> For surveys in laguages other than English, make sure to correctly define the encoding when opening the data in Excel (see <a href="#data-encoding-in-excel">Data Encoding in Excel</a>.
</p>

### Download the entire data set

*Coming soon*

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> Users are advised to download data for individual workspace as outlined above. The ability to download the entire data set is restricted to few users. Contact your system administrator for further information.</i>
</p>

### Data Encoding in Excel

When you open your data in Excel, it is important to select the correct (UTF-8) encoding. 

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i> Using the wrong encoding can result in unreadable text. For examples instead of <b>camp de réfugiés</b> you get *Camp de rÃ©fugiÃ©s*.</i>
</p>


1. Open a new Excel file.
2. On the Data tab in the **Get & Transform Data** group, click **From Text/CSV**.
3. In the **Import Data** dialog box, locate and double-click the text file that you want to import, and click **Import**.
4. In the top left corner of the pop-up window that opens, change the encoding type to **UTF-8**, and click **Import**.

<p align="center">
	<img src="media/vid/HeRAMS_excel_encoding.gif" alt="data update interface" height="300"></img>
</p>


# 4. HeRAMS Administration

This chapter aims to provide an overview of the admin pages in HeRAMS and provides step-by-step instruction for common tasks performed by advanced users and country administrators. 
The first part of the chapter introduces the concept of [Workspaces](#workspaces) while the second part focuses on [Project](#projects) level administration as well as the configuration of project specific [Dashboards](#configure-the-project-dashboard). 

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> Access to each of the sub-sections of this chapter are depending on the tasks a user is expected to complete. If you require your permissions to be changed, please contact your system administrator.</i>
</p>

### Workspaces

HeRAMS uses the concept of workspaces to manage user permissions. Each workspace consists of several health facilities and has a dedicated focal point responsible for updating these records. 
A workspace might for example include all health facilities of a geographical region, health facilities managed by a specific partner or any other logical categories. 
Thus, the use of workspaces in combination with different levels of permission (see below) assures granular, role-based access control to a project and the underlying data. 
While most users only have access to a single workspace, country administrators might have access to several or all workspaces.

- <img src="media/img/icon_refresh_data.png" height="20" align="top" alt='refresh'></img> **Data Refresh**: This button allows users to manually refresh the data cache of a workspace. Data is automatically refreshed every 30 minutes. This means if a record is updated, the changes are not immediately reflected on the dashboard. 
Thus, by manually refreshing the data cash of a workspace the time lack limitation can be overcome and the changes made will be visible immediately.  
- <img src="media/img/icon_pencil_black.png" height="20" align="top" alt='edit'></img> **Update Workspace**: allows to change the title or token of a workspace.
- <img src="media/img/icon_share.png" height="20" align="top" alt='share'></img> **Share Workspace**: To grant a user access to workspace, the workspace must be shared with the user. For more information on how to add users to a workspace click [here](#add-a-user-to-a-workspace).
- <img src="media/img/icon_delete_black.png" height="20" align="top" alt='delete'></img> **Delete Workspace** See [Delete Workspaces](#delete-workspaces) for further information
- <img src="media/img/icon_download.png" height="20" align="top" alt='download'></img> **Download Data**: Downloads all data associated with the workspace. See [data download](#download-data) for more information.  
- <img src="media/img/icon_data_update_black.png" height="20" align="top" alt='edit data'></img> **Data Update**: This opens the data edit interface. More information on data editing and updating is available in the [previous chapter](#edit-data).  

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='info'></img>
	<i> The number of buttons visible to you depends on your access rights and might vary from one workspace to another.</i>
</p>

#### Workspace Permissions

There are two permission levels for workspaces. 

1. Manage the underlying response data.
2. Full access, includes editing the workspace properties, token and response data.

Users with the role of **Data Editor** have access to update the response data (option 1) while **Workspace Owners** might be given elevated permission (option 2) allowing them to add additional users to their workspace.1. Manage the underlying response data

#### Add a User to a Workspace

1. To grant a user access to a workspace, open the admin interface by clicking the <img src="media/img/icon_settings.png" height="20" align="top" alt='settings'></img> icon in the top right corner of the screen.
2. In the navigation pane on the left, click [Projects](https://herams.org/project/index) to open the **Projects** table (see [Projects](#projects) for more information).
3. In the rightmost column of the table, you should see several **Action** buttons. Click the <img src="media/img/icon_workspace.png" height="20" align="top" alt='workspace'></img>  icon. This will open the workspace of the selected project.  
4. You should now see a table with all workspaces of your project. For each workspace the table provides information on the last time data was synced with the underlying database, the number of contributors, health facilities and responses. Alike the **Projects** table, the last column contains several **Action** buttons. 
5. To grant a user access to a workspace (e.g. to update the data), you have to share the workspace with them. Click the <img src="media/img/icon_share.png" height="20" align="top" alt='share'></img> icon in the *Actions* column.
6. You should now see something similar to the image below. On the bottom half of the screen you can see a list of all users currently having access to this workspace and their permission level. 

<p align="center">
	<img src="media/img/HeRAMS_workspace_share.png" alt="Overview" height="300"></img>
</p>

7. In the top half the page you have the option to add a user. Start typing the users name in the top field. You will notice that the list of users is dynamically filtering. Select the user you would like to add.

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i>You can add multiple users add once as shown in the image above.</i>
</p>
<p align="center">
	<img src="media/img/icon_info.png" height="30" align="top" alt='tip'></img>
	<i>If you cannot find a users, it means the user has not create an account. Ask the user to greate an account by registering on the <a href="https://herams.org">HeRAMS platform</a> and then retry. Should the issue persist, contact your system administrator.</i>
</p>


8. Use the checkboxes to select the appropriate permission level. See the previous section for further details on [Workspace Permissions](#workspace-permissions).
9. Click the <img src="media/img/bt_share.png" height="20" align="top" alt='share'></img> button to share the workspace with the selected user(s).

<p align="center">
	<img src="media/vid/HeRAMS_workspace_share.gif" alt="Overview" height="300"></img>
</p>

#### Remove a User from a Workspace

1. To remove a user from a workspace, navigate to the workspace from which you would like to remove a user. Follow steps 1 - 6 outlined [above](#add-a-user-to-a-workspace) to access the workspace.
2. On the second half of the screen you should now see a list of all users having access to the workspace. Click the <img src="media/img/icon_delete_black.png" height="20" align="top" alt='bin'></img> icon to remove the user permanently. 

#### Change a User's Workspace Permission

1. To change a user's permission, remove the user from the workspace as outlined [above](#remove-a-user-from-a-workspace).
2. Now add the user again using the new permission level (see section [Add a User to a Workspace](#add-a-user-to-a-workspace) for details).

#### Create a New Workspace

1. To create a new workspace, access the workspace page of your project (Follow steps 1 - 6 in the [Add a User to a Workspace](#add-a-user-to-a-workspace) section).
2. In the upper left corner, you should see a button labelled <img src="media/img/bt_create_workspace.png" height="20" align="top" alt='create workspace'></img>.
3. On the page that opens, you should now be able to create a new workspace. 

<p align="center">
	<img src="media/img/HeRAMS_workspace_create.png" alt="create workspace" height="300"></img>
</p>

4. Enter the workspace's name into the title field. 
5. Use the dropdown list to select the corresponding **Token** or create a new token by selecting **Create new token**.

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='tip'></img>
	<i> Tokens are unique identifiers that link health facilities to workspaces. To add a health facility to a workspace the token of the record in question has to be manually changed. Contact your system administrator for guidance on how to change a record's token.</i>
</p>

#### Delete a Workspaces

1. You can remove a workspace by clicking the <img src="media/img/icon_delete_black.png" height="20" align="top" alt='bin'></img> icon in the **Actions** column next to the selected workspace.

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='tip'></img>
	<i> Deleting workspace will not affect the underlying data. See the previous chapter to learn how to permanently <a href="#delete-a-health-facility">remove health facilities</a> from your project.</i>
</p>

### Projects

The <a href="https://herams.org/project/index">Projects</a> page provides a brief overview of all projects available on the HeRAMS platform. 

<p align="center">
	<img src="media/img/HeRAMS_projects.png" alt="project page" height="300"></img>
</p>

For each project the number of workspaces, contributors, health facilities, and responses is displayed. Alike the table of workspaces, the last column contains a series of action buttons. 

- <img src="media/img/icon_workspace.png" height="20" align="top" alt='workspace'></img>**Workspaces**: For more information on workspaces click [here](#workspace).
- <img src="media/img/icon_dashboard.png" height="20" align="top" alt='dashboard'></img>**Dashboard**: By clicking the dashboard icon, the project [dashboard](#dashboard) will be opened. 
- <img src="media/img/icon_pencil_black.png" height="20" align="top" alt='update project'></img>**Edit**: Permits users with appropriate permission to alter the  project [settings](#project-settings) as well as to configure the project [dashboard](#configure-the-project-dashboard). 
- <img src="media/img/icon_check_data.png" height="20" align="top" alt='check data'></img>**Check Data**: Can be used for a quick review of the data to identify invalid responses.
- <img src="media/img/icon_share.png" height="20" align="top" alt='share'></img>**Share**: The sharing function is used to grant users access to a project. See [below](#add-a-user-to-a-project) for further details.

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='tip'></img>
	<i> The number of buttons visible to you depends on your access rights to a specific project is likely to vary from one project to another.</i>
</p>

#### Project Permissions

There are three permission levels which can be used to grant a user access to a project. 

1. Allow access to the project dashboard from the world map
2. Allows full access to all workspaces in this project as well as creating new ones or deleting existing ones
3. Allow everything

#### Add a User to a Project

1. To grant a user access to a specific project, open the admin interface by clicking the <img src="media/img/icon_settings.png" height="20" align="top" alt='settings'></img> button in the top right corner of the screen.
2. In the navigation pane on the left, click [Projects](https://herams.org/project/index) to display the list of all available projects.
3. In the rightmost column of the table, you should see several action buttons. Click the <img src="media/img/icon_share.png" height="20" align="top" alt='share'></img> icon. 
4. You should now see something similar to the image below. On the bottom half of the screen you can see a list of all users currently having access to this workspace and their permission level. 

<p align="center">
	<img src="media/img/HeRAMS_project_share.png" alt="share workspace" height="300"></img>
</p>
5. In the top half the page you have the option to add a user. Start typing the users name in the top field. You will notice that the list of users is dynamically filtering. Select the user you would like to add.

<p align="center">
	<img src="media/img/icon_tip.png" height="30" align="top" alt='tip'></img>
	<i>You can add multiple users add once as shown in the image above.</i>
</p>

6. Use the checkboxes to assign appropriate permission rights. See [Project Permissions](#project-permissions) for further information on the different permission levels.
7. Click the <img src="media/img/bt_share.png" height="20" align="top" alt='share'></img> button to share the project with the selected users.

<p align="center">
	<img src="media/vid/HeRAMS_project_share.gif" alt="Overview" height="300"></img>
</p>

#### Remove a User from a Project

1. To remove a user from a Project, follow steps 1-4 outlined in the [previous section](#add-a-user-to-a-project) to access the project from which you would like to remove a user.
2. On the second half of the page you should now see a list of all users having access to the workspace. Click the <img src="media/img/icon_delete_black.png" height="20" align="top" alt='bin'></img> icon to remove the user permanently. 

#### Change a User's Project Permissions

1. To change a user's permission, remove the user from the project as outlined [above](#remove-a-user-from-a-project).
2. Now add the user again using the new permission level (see section [Add a User to a Project](#add-a-user-to-a-project) for details).

#### Modify a Project

1. To update the general settings of a project, open the admin interface by clicking the <img src="media/img/icon_settings.png" height="20" align="top" alt='settings'></img> button in the top right corner of the page.
2. Open the **Projects** page by selecting [Projects](https://herams.org/project/index) in the navigation pane on the left.
3. Click the <img src="media/img/icon_pencil_black.png" height="20" align="top" alt='edit'></img> icon in the **Actions** column of your project. This will open the general settings page.
4. You should now see a page similar to the one displayed below, which permits you
	- to update the project title;
	- to alter the survey linked to this project;
	- to change the centroids (latitude and longitude) of the blue dot shown on the world map;
	- to update the status of the project;
	- to configure the pop-up information displayed on the main page; and
	- to configure the project dashboard. Additional information on how to configure the project dashboard is available [here](#configure-dashboard).
5. Make sure you save your changes by clicking the <img src="media/img/bt_update_project.png" height="25" align="middle" alt='update project'></img> button.

### Configure the Project Dashboard

For each HeRAMS Project, an interactive dashboard can be configured providing summarizing key indicators and findings of a project. 
This section provides project administrators with detailed description on how to edit these dashboards. 
An overview of the standard dashboard pages is available in [Chapter 2](##default-dashboard-pages). 

#### Modify an Existing Dashboard Element

Users with the permissions to edit dashboards can modify charts and maps directly from within the dashboard. 

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='tip'></img>
	<i> To modify the order of dashboard pages or rename a page, click <a href="#update a Dashboard Page">here</a>.</i>
</p>

1. Open the dashboard and navigate to the element you would like to change. 
2. In the top right corner of the element you should see a <img src="media/img/icon_edit_dashboard.png" height="20" align="top" alt='pencil '></img> icon. Right click the icon to open the element's configuration page.
3. You should now be able
	- change the variable displayed
	- to change the colors of a map or a chart; and
	- to rename the element.
	
<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='note'></img>
	<i> See the section <a href="#create-a-new-dashboard-element">below</a> for further details on how to create an modify dashboard elements.</i>
</p>

4. Save your changes by clicking the <img src="media/img/bt_update_element.png" height="20" align="top" alt='share'></img> button.

<p align="center">
	<img src="media/vid/HeRAMS_edit_dashboard_element.gif" alt="create new page" height="300"></img>
</p>

#### Create a New Element to a Dashboard

This section covers the steps required to add a new element to an existing dashboard page. 
If you would like to extend your dashboard by adding additional pages, please see the section [below](#add-a-new-page) on how to add a page to a dashboard.

1. Follow the instructions outlined [here](#modify-a-project) to open the **Poject Settings page. 
2. In the buttom half of the page you should see a list of all available dashboard pages. For each page, the table displays the title, parent sort id.

<p align="center">
	<img src="media/img/HeRAMS_dashboard_pages_table.png" alt="dashboard pages table" height="300"></img>
</p>

3. Open the page you would like to modify using the <img src="media/img/icon_pencil_black.png" height="20" align="top" alt='pencil '></img> icon next to the page's name.
4. In the bottom half of the page, you should see three buttons <img src="media/img/bt_create_element_white.png" height="20" align="top" alt='create element'></img> button 
5. Select which type of element you would like to add by clicking the corresonding button.
6. You should now see a page similar to the one displayed below. 


<p align="center">
	<img src="media/img/HeRAMS_dashboard_create_element.png" alt="dashboard pages" height="300"></img>
</p>

7. The **Transpose** feature allows to switch between aggregating data at the health facility and the health service level. Set the feature to **No** to display data aggregated at the health facility level. 
8. Now use the **Code** dropdown list to select which field you would like to display on your element.

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='tip'></img> <i> Transposing the element or changing the question code or will reload the page making you lose all other unsaved edits.</i>
</p>
9. Define the element position on the dashboard pagae by specifying the **Sort** index. The index auto-increments by one. Increment the index by 1 for each new item, starting with 0 for the first page.
10. The **Width** and **Height** fields allow to create a custom-sized element. 

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='note'></img>
	<i> For charts with large legend elements, it is recommended to use a **Width** of 2 to assure the legend is displayed correctly.</i>
</p>

11. Optionally, the **Title** field allows you to overwirte the default title. 
12. For **Maps & Charts**, The bottom half of the page, displays the list of pre-defined answer options of the selected question. Click the color next to the 
category name. This will opens a color picker allowing you pick custom colors. 
13. For **Maps**, you can further specify the size of the dots by increasing/decreasing the  **Marker Radius**.

<p align="center">
	<img src="media/vid/HeRAMS_create_dashboard_element.gif" alt="create map" height="300"></img>
</p>

14. For **tables**, two additional fileds will be displayed to specify the **Reason Code** and **Group Code**.

<p align="center">
	<img src="media/img/HeRAMS_dashboard_create_table.png" alt="create table" height="300"></img>
</p>

15. Finally, click the <img src="media/img/bt_create_element_blue.png" height="20" align="top" alt='create element'></img> button to add create the element.

#### Remove an elements or pages from the dashboard
1. Follow the instructions outlined [here](#modify-a-project) to open the **Poject Settings page**. 
2. In the lower half of teh page, click the <img src="media/img/icon_pencil_black.png" height="20" align="top" alt='pencil '></img> icon to open the dashboard page you would like to modify.
3. Scroll down until you see the list of elements (charts, maps and tables). 
4. Use the <img src="media/img/icon_delete_black.png" height="20" align="top" alt='delete '></img> to permanently delete the element.

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='tip'></img>
	<i> Be careful deleting dashboard elements. Deleted elements cannot be restore.</i>
</p>

#### Add a New Page to a Dashboard

1. To add a new page to a dashboard, open the [project's settings](#edit-project-settings) page and click the <img src="media/img/bt_create_page_blue.png" height="20" align="top" alt='create page'></img> button.
2. You should now see a page similar to the one displayed below. 

<p align="center">
	<img src="media/img/HeRAMS_dashboard_create_page.png" alt="create new page" height="250"></img>
</p>

3. Enter the page name in the top field. 
4. For sub-pages, select the parent page from the **Parent Id** drop-down list. For all other pages select **No parent**.
5. Define the page order by entering a **Sort** index. Increment the index by 1 for each new page, starting with **0** for the first page. 
6. Click the <img src="media/img/bt_create_page_blue.png" height="20" align="top" alt='create page'></img> button to add the page to the dashboard. 
7. If you return to the previous page, you will see the page appearing in the list of available pages. 

<p align="center">
	<img src="media/img/icon_info.png" height="20" align="top" alt='tip'></img>
	<i> You only created an empty page. To add elements to your page, see section <a href="#create-a-new-element-to-a-aashboard">Create a New Element to a Dashboard</a>.</i>
</p>

### Update a Dashboard Page

1. To alter an existing page, click the <img src="media/img/icon_pencil_black.png" height="20" align="top" alt='pencil'></img> icon next to the page's name. This will open the page's setting page. You are now able to change the title and the order of the page. See [above](#add-a-new-page) for further details. 
2. On the page that opens you should now be able to alter the page name, and display order.
3. Save your changes by clicking the <img src="media/img/bt_update_page.png" height="20" align="top" alt='update page'></img> button. 

### Delete a Dashboard Page

1. To delete a dashboard page, navigate the [project's settings](#edit-project-settings) page.
2. In the list of available page, click the <img src="media/img/icon_delete_black.png" height="20" align="top" alt='pencil '></img> icon next to the page you would like to delete.

<p align="center">
	<img src="media/img/icon_warning.png" height="20" align="top" alt='tip'></img>
	<i> Deleting dashboard pages and elements cannot be undone. Be careful when deleting pages or elements.</i>
</p>

# 5. FAQ
This section aims to help users troubleshoot frequently encountered issues. In case you encounter an issue that is not addressed here, please post it in the comment section. We will periodically update this section to 

<details>
	<summary><b>I did not receive an email upon registering or resting my password</b>
	</summary>
	
If you did not receive an email upon registering or resetting your password, follow the steps below to troubleshoot the issue. 
1. Refresh your inbox. It might take a few minutes for email to appear.
2. Check your spam/junk folder.
3. Try to register again. You might have accidentaly misspelled your email. 
4. If the above steps did not solve your issues, please contact your system administrator or send and emails to [mailto](herams@who.int). 
</details>

<details>
	<summary><b>How can I reset my password?</b>
	</summary>
	If you forgot your password, follow the instructions porvided [here](#rest-password) to reset your password. 

</details>
<details>
	<summary><b>Data export is unreadable or contains weird characters</b></summary>
	If you open data downloaded from HeRAMS in Excel, you might experience an issue with special characters not being displayed correctly,
	resulting in unreadable text. For example, instead of *camp de réfugiés* you get *Camp de rÃ©fugiÃ©s*.
 The reason for this is that Excel not using the correct encoding type to read you data. 
 To correct the issue, follow the instruction outlined [here](#data-encoding-in-excel). 

</details>


<details>
	<summary><b>Why can't I access the project dashboard</b></summary>
	
	For data protection reasons, access to the project dashbaords is only granted upon request. 
	If you require access to a project, please contact the country focal point or send an email to [mailto](herams@who.int), specifying why you require access to the project.
	
</details>

<details>
	<summary><b>Who has access to our dashboard or workspace</b></summary>
	In-country administrators and users responsible for a project or workspace can verify the list of users having access to the 
	project and/or workspace as well as their permission levels. 
	See chapter 4 on more information on sharing [project](#projects) and [workspaces](#workspaces). 
</details>

<details>
	<summary><b>Edites/updates to a health facility don't appear on the dashboard</b></summary>
	It is important to note that the data displayed on the interactive dashboards are only synchronized every 30 mintures. Thus, is it is possible that
	updates to the data don't show immediately on the dashboards. To solve the issue, manually sync the data cache of the workspace. For more information on 
	data caching read the section on [Workspaces](#workspaces).
</details>

